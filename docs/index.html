<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>
<style>*{box-sizing:border-box}body{font-family:system-ui,sans-serif;margin:0}</style>
<meta name='generator' content='mdx-deck'>

</head>
<body>
<div id=root><div><div mode="NORMAL" step="0" width="100vw" height="100vh" color="text" class="sc-dnqmqq iRqwCm"><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet"/><div class="sc-bZQynM kmKUJZ"><div class="sc-gzVnrw gKaMTo"><div class="sc-htoDjs zIEGn"><div><h1 font-size="4" class="sc-cSHVUG kcEqXP">MIPL Functions</h1><h2 font-size="3" class="sc-chPdSV cqoxnG">Or: How I Learned To Stop Worrying And Love <del>The Stack</del> Undefined Behavior</h2></div></div><div class="sc-htoDjs zIEGn"><div><h1 font-size="4" class="sc-cSHVUG kcEqXP">So how do functions work in Pascal?</h1><pre class="language-pascal sc-jWBwVP dEqUDs" font-size="1" color="pre">(* Parameters work like one would expect *)
Function Example(A: Integer) : Integer;
Var
 S : Integer;
Begin
 If A &lt; 10 Then
  (* Assign to the name of the function to return a value *)
  (* Does not automatically exit the function *)
  Example := 1;
 Example := 2;
End;
</pre></div></div><div class="sc-htoDjs zIEGn"><div><h1 font-size="4" class="sc-cSHVUG kcEqXP">Return Values</h1><ul font-size="2" class="sc-iAyFgw iLvMQI"><li class="sc-eHgmQL gmKbQu">Probably the easiest part of the assignment</li><li class="sc-eHgmQL gmKbQu">Extra word is allocated in memory for the return value</li><li class="sc-eHgmQL gmKbQu">When the function exits, that value is pushed onto the stack</li><li class="sc-eHgmQL gmKbQu">Failing to return a value is UB ;)</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><h1 font-size="4" class="sc-cSHVUG kcEqXP">Parameters</h1><ul font-size="2" class="sc-iAyFgw iLvMQI"><li class="sc-eHgmQL gmKbQu">Calling Convention</li><li class="sc-eHgmQL gmKbQu">References</li><li class="sc-eHgmQL gmKbQu">Arrays</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><h1 font-size="4" class="sc-cSHVUG kcEqXP">Calling Convention</h1><h2 font-size="3" class="sc-chPdSV cqoxnG">Crazy Stack Trickery</h2><ul font-size="2" class="sc-iAyFgw iLvMQI"><li class="sc-eHgmQL gmKbQu">Caller places all parameters onto arithmatic stack</li><li class="sc-eHgmQL gmKbQu">Callee allocates memory for parameters</li><li class="sc-eHgmQL gmKbQu">All parameters are popped from the stack and placed into memory</li><li class="sc-eHgmQL gmKbQu">Callee begins executing</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><h1 font-size="4" class="sc-cSHVUG kcEqXP">Reference Parameters</h1><ul font-size="2" class="sc-iAyFgw iLvMQI"><li class="sc-eHgmQL gmKbQu">Caller places address onto stack</li><li class="sc-eHgmQL gmKbQu">Any modifications to the array value will be seen by the caller</li></ul><pre class="language-pascal sc-jWBwVP dEqUDs" font-size="1" color="pre">procedure example(val a: integer)
begin
  a := 2
end
</pre></div></div><div class="sc-htoDjs zIEGn"><div><h1 font-size="4" class="sc-cSHVUG kcEqXP">Arrays</h1><ul font-size="2" class="sc-iAyFgw iLvMQI"><li class="sc-eHgmQL gmKbQu">Can be passed by reference, or by value</li><li class="sc-eHgmQL gmKbQu">If passed by reference, caller will place the address of the start of the array onto the stack.</li><li class="sc-eHgmQL gmKbQu">If passed by value, the start / end indexes of the array must match. Every element of the array is pushed onto the stack.</li><li class="sc-eHgmQL gmKbQu">Passing an array by value that is too large is UB ;)</li></ul><pre font-size="1" color="pre" class="sc-jWBwVP dEqUDs">procedure example(val by_reference: array of integer, by_value: array[1..20] of integer)
</pre></div></div><div class="sc-htoDjs zIEGn"><div><h1 font-size="4" class="sc-cSHVUG kcEqXP">Testing</h1><ul font-size="2" class="sc-iAyFgw iLvMQI"><li class="sc-eHgmQL gmKbQu">Unfortunately, I have to create my own test files for this :(</li><li class="sc-eHgmQL gmKbQu">Much like hw6, there will be several small scripts that are meant to demonstrate certain aspects of the change</li><li class="sc-eHgmQL gmKbQu">The test script that I&#x27;ve been using all semester will be submitted along with the code</li></ul></div></div><div class="sc-htoDjs zIEGn"><div><img src="https://github.com/NLincoln/5500-presentation/raw/master/david_pumpkins.png" alt="Any Questions?" class="sc-cMljjf hhoFSc"/></div></div></div></div></div></div><div class="sc-htpNat cXgiMa"><div class="sc-bdVaJa eCoqJu"><button title="go to: 0" color="text" class="sc-bwzfXH kZJqew"></button><button title="go to: 1" color="text" class="sc-bwzfXH iqbRJO"></button><button title="go to: 2" color="text" class="sc-bwzfXH iqbRJO"></button><button title="go to: 3" color="text" class="sc-bwzfXH iqbRJO"></button><button title="go to: 4" color="text" class="sc-bwzfXH iqbRJO"></button><button title="go to: 5" color="text" class="sc-bwzfXH iqbRJO"></button><button title="go to: 6" color="text" class="sc-bwzfXH iqbRJO"></button><button title="go to: 7" color="text" class="sc-bwzfXH iqbRJO"></button><button title="go to: 8" color="text" class="sc-bwzfXH iqbRJO"></button></div></div><div role="button" title="Previous Slide" class="sc-ifAKCX jyMVhc"></div><div role="button" title="Next Slide" class="sc-EHOje jHReHG"></div></div>
<script src="main.js"></script>
</body>
</html>
